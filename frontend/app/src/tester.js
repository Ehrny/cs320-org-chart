const blob = {
    actions: {},
    companyId: 1,
    companyName: "TODO",
    email: "Miquel_Pineda@cycloneaviation.com",
    employeeId: 1,
    employees: [
      {
        actions: {},
        companyId: 1,
        companyName: "TODO",
        email: "Brittany_Murillo@cycloneaviation.com",
        employeeId: 4,
        employees: [
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Joan_Lucero@cycloneaviation.com",
            employeeId: 18,
            employees: null,
            firstName: "Joan",
            isManager: false,
            lastName: "Lucero",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/18/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2016-05-01"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Damon_Stuart@cycloneaviation.com",
            employeeId: 23,
            employees: null,
            firstName: "Damon",
            isManager: false,
            lastName: "Stuart",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/23/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2016-02-22"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Norris_Banks@cycloneaviation.com",
            employeeId: 62,
            employees: null,
            firstName: "Norris",
            isManager: false,
            lastName: "Banks",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/62/manager"
            },
            positionTitle: "Tech Lead",
            startDate: "2009-04-24"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Timmy_Mendez@cycloneaviation.com",
            employeeId: 89,
            employees: null,
            firstName: "Timmy",
            isManager: false,
            lastName: "Mendez",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/89/manager"
            },
            positionTitle: "Tech Lead",
            startDate: "2005-09-10"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Cornelius_Sellers@cycloneaviation.com",
            employeeId: 5,
            employees: {
              method: "GET",
              relative_uri: "company/1/employee/5"
            },
            firstName: "Cornelius",
            isManager: true,
            lastName: "Sellers",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/5/manager"
            },
            positionTitle: "Engineering Manager",
            startDate: "2015-12-01"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Pedro_Mcneil@cycloneaviation.com",
            employeeId: 45,
            employees: null,
            firstName: "Pedro",
            isManager: false,
            lastName: "Mcneil",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/45/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "1993-11-15"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Michael_Morales@cycloneaviation.com",
            employeeId: 61,
            employees: null,
            firstName: "Michael",
            isManager: false,
            lastName: "Morales",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/61/manager"
            },
            positionTitle: "Software Architect",
            startDate: "1993-06-20"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Delmar_Ortega@cycloneaviation.com",
            employeeId: 71,
            employees: null,
            firstName: "Delmar",
            isManager: false,
            lastName: "Ortega",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/71/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "1999-01-01"
          }
        ],
        firstName: "Brittany",
        isManager: true,
        lastName: "Murillo",
        manager: {
          method: "GET",
          relative_uri: "company/1/employee/4/manager"
        },
        positionTitle: "Engineering Manager",
        startDate: "1999-08-06"
      },
      {
        actions: {},
        companyId: 1,
        companyName: "TODO",
        email: "Gustavo_Prince@cycloneaviation.com",
        employeeId: 6,
        employees: [
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Dale_Sanford@cycloneaviation.com",
            employeeId: 21,
            employees: null,
            firstName: "Dale",
            isManager: false,
            lastName: "Sanford",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/21/manager"
            },
            positionTitle: "Software Engineer II",
            startDate: "1990-06-19"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Kimberley_Frank@cycloneaviation.com",
            employeeId: 31,
            employees: null,
            firstName: "Kimberley",
            isManager: false,
            lastName: "Frank",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/31/manager"
            },
            positionTitle: "Software Architect",
            startDate: "1990-07-20"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Sue_Herrera@cycloneaviation.com",
            employeeId: 48,
            employees: null,
            firstName: "Sue",
            isManager: false,
            lastName: "Herrera",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/48/manager"
            },
            positionTitle: "Software Engineer II",
            startDate: "1996-11-23"
          }
        ],
        firstName: "Gustavo",
        isManager: true,
        lastName: "Prince",
        manager: {
          method: "GET",
          relative_uri: "company/1/employee/6/manager"
        },
        positionTitle: "Engineering Manager",
        startDate: "1992-03-31"
      },
      {
        actions: {},
        companyId: 1,
        companyName: "TODO",
        email: "Reba_Strickland@cycloneaviation.com",
        employeeId: 2,
        employees: [
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Winford_Wu@cycloneaviation.com",
            employeeId: 53,
            employees: null,
            firstName: "Winford",
            isManager: false,
            lastName: "Wu",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/53/manager"
            },
            positionTitle: "Software Engineer II",
            startDate: "2015-01-28"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Suzette_Rhodes@cycloneaviation.com",
            employeeId: 3,
            employees: {
              method: "GET",
              relative_uri: "company/1/employee/3"
            },
            firstName: "Suzette",
            isManager: true,
            lastName: "Rhodes",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/3/manager"
            },
            positionTitle: "Engineering Manager",
            startDate: "2011-12-23"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Janie_Nash@cycloneaviation.com",
            employeeId: 17,
            employees: {
              method: "GET",
              relative_uri: "company/1/employee/17"
            },
            firstName: "Janie",
            isManager: true,
            lastName: "Nash",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/17/manager"
            },
            positionTitle: "Engineering Manager",
            startDate: "2002-07-08"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Erasmo_Pollard@cycloneaviation.com",
            employeeId: 67,
            employees: null,
            firstName: "Erasmo",
            isManager: false,
            lastName: "Pollard",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/67/manager"
            },
            positionTitle: "Software Architect",
            startDate: "2008-10-11"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Jarvis_Mitchell@cycloneaviation.com",
            employeeId: 52,
            employees: null,
            firstName: "Jarvis",
            isManager: false,
            lastName: "Mitchell",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/52/manager"
            },
            positionTitle: "Software Engineer I",
            startDate: "1992-11-15"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Carol_Marquez@cycloneaviation.com",
            employeeId: 94,
            employees: null,
            firstName: "Carol",
            isManager: false,
            lastName: "Marquez",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/94/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2009-06-01"
          }
        ],
        firstName: "Reba",
        isManager: true,
        lastName: "Strickland",
        manager: {
          method: "GET",
          relative_uri: "company/1/employee/2/manager"
        },
        positionTitle: "Engineering Manager",
        startDate: "2010-12-12"
      },
      {
        actions: {},
        companyId: 1,
        companyName: "TODO",
        email: "Freddie_Acosta@cycloneaviation.com",
        employeeId: 9,
        employees: [
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Eduardo_Morton@cycloneaviation.com",
            employeeId: 55,
            employees: null,
            firstName: "Eduardo",
            isManager: false,
            lastName: "Morton",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/55/manager"
            },
            positionTitle: "Software Engineer I",
            startDate: "2004-11-09"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Joshua_Sawyer@cycloneaviation.com",
            employeeId: 14,
            employees: {
              method: "GET",
              relative_uri: "company/1/employee/14"
            },
            firstName: "Joshua",
            isManager: true,
            lastName: "Sawyer",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/14/manager"
            },
            positionTitle: "Engineering Manager",
            startDate: "1999-08-07"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Staci_Gould@cycloneaviation.com",
            employeeId: 72,
            employees: null,
            firstName: "Staci",
            isManager: false,
            lastName: "Gould",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/72/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2017-04-20"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Guadalupe_Stein@cycloneaviation.com",
            employeeId: 86,
            employees: null,
            firstName: "Guadalupe",
            isManager: false,
            lastName: "Stein",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/86/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2013-07-10"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Norman_Velazquez@cycloneaviation.com",
            employeeId: 41,
            employees: null,
            firstName: "Norman",
            isManager: false,
            lastName: "Velazquez",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/41/manager"
            },
            positionTitle: "Senior Software Engineer",
            startDate: "2012-11-13"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Katelyn_Hooper@cycloneaviation.com",
            employeeId: 28,
            employees: null,
            firstName: "Katelyn",
            isManager: false,
            lastName: "Hooper",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/28/manager"
            },
            positionTitle: "Software Engineer I",
            startDate: "2003-09-06"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Napoleon_Solomon@cycloneaviation.com",
            employeeId: 92,
            employees: null,
            firstName: "Napoleon",
            isManager: false,
            lastName: "Solomon",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/92/manager"
            },
            positionTitle: "Tech Lead",
            startDate: "2014-07-25"
          },
          {
            actions: {},
            companyId: 1,
            companyName: "TODO",
            email: "Brice_Blackwell@cycloneaviation.com",
            employeeId: 12,
            employees: {
              method: "GET",
              relative_uri: "company/1/employee/12"
            },
            firstName: "Brice",
            isManager: true,
            lastName: "Blackwell",
            manager: {
              method: "GET",
              relative_uri: "company/1/employee/12/manager"
            },
            positionTitle: "Engineering Manager",
            startDate: "1991-01-22"
          }
        ],
        firstName: "Freddie",
        isManager: true,
        lastName: "Acosta",
        manager: {
          method: "GET",
          relative_uri: "company/1/employee/9/manager"
        },
        positionTitle: "Engineering Manager",
        startDate: "1998-03-03"
      }
    ],
    firstName: "Miquel",
    isManager: true,
    lastName: "Pineda",
    manager: {
      method: "GET",
      relative_uri: "company/1/employee/1/manager"
    },
    positionTitle: "CEO",
    startDate: "2016-05-04"
  }

let meta = null;


const parseChildren = (obj) =>{
    let temp=[]
    if(obj.employees===null)
    {
        return [];
    }
    else{
        for(let x=0;x<obj.employees.length;x++)
        {
            temp.push(translate(obj.employees[x]))
        }
    }
    return temp
}

const translate = (obj) =>{
    let id=0,avatar=null, department='', name='', title='', totalReports=0,
    person={}, this_hasChild=false, this_hasParent= (obj.employeeId===1)?false:true, 
    rchildren=[];
    //console.log('translating: ', obj.employeeId, ' is array test: ',  Array.isArray(obj.employees));
      let exporting = {
        id: obj.employeeId,
        person: {
          id: obj.employeeId,
          avatar: null,
          department: '',
          name: obj.firstName+' '+obj.lastName,
          title: obj.positionTitle,
          totalReports: (obj.employees!==null)?obj.employees.length:0,
        },
        hasChild: this_hasChild,
        hasParent: this_hasParent,
        children: parseChildren(obj),
      }
      return exporting;
  }

console.log(parseChildren(blob))